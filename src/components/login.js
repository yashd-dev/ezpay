"use client";
import React, { useState, useEffect } from "react";
import { useRouter } from "next/navigation";
import {
	createUserWithEmailAndPassword,
	signInWithPopup,
	signInWithEmailAndPassword,
} from "firebase/auth";
import { auth, provider } from "../lib/firebase";
import { Icon } from "@iconify/react";
import { Input, Button, Typography } from "@material-tailwind/react";
import {
	PiggyBank,
	Bank,
	HandCoins,
	Wallet,
	Coins,
	CurrencyCircleDollar,
	CreditCard,
	CurrencyInr,
} from "@phosphor-icons/react";

function Login() {
	const router = useRouter();
	const [username, setUsername] = useState("");
	const [usernameError, setUsernameError] = useState("");
	const [password, setPassword] = useState("");
	const [passwordError, setPasswordError] = useState("");
	const [loading, setLoading] = useState(false);
	const [error, setError] = useState("");
	const [isSignUp, setIsSignUp] = useState(false);

	useEffect(() => {
		const user = JSON.parse(localStorage.getItem("user"));
		if (user) {
			router.push("/dashboard/overview");
		}
	}, []);

	const handleUsernameChange = (e) => {
		setUsername(e.target.value);
		const re = /\S+@\S+\.\S+/;
		if (!re.test(e.target.value)) {
			setUsernameError("Please enter a valid email address");
		} else setUsernameError("");
	};
	// Function to validate email and give real time error

	const handlePasswordChange = (e) => {
		setPassword(e.target.value);
		const regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{6,}$/;
		if (!regex.test(e.target.value)) {
			let error = "Password must contain ";
			if (e.target.value.length < 6) {
				error += "at least 6 characters, ";
			}
			if (!/[a-z]/.test(e.target.value)) {
				error += "lowercase letters, ";
			}
			if (!/[A-Z]/.test(e.target.value)) {
				error += "uppercase letters, ";
			}
			if (!/\d/.test(e.target.value)) {
				error += "numbers, ";
			}
			error = error.slice(0, -2); // Remove the last comma and space
			setPasswordError(error);
		} else setPasswordError("");
	};
	// Function to validate password and give real time error

	const SignUp = async () => {
		setLoading(true);
		if (!username || !password) {
			setError("Please enter both username and password");
			setLoading(false);
			return;
		}

		createUserWithEmailAndPassword(auth, username, password)
			.then((userCredential) => {
				// Signed in
				const user = userCredential.user;
				console.log(user);
				localStorage.setItem("user", JSON.stringify(user));
				router.push("/getting-started");
			})
			.catch((error) => {
				const errorCode = error.code;
				const errorMessage = error.message;
				console.log(errorCode, errorMessage);
				setError(errorMessage);
			});
		setLoading(false);
	};

	const Login = async () => {
		setLoading(true);
		if (!username || !password) {
			setError("Please enter both username and password");
			setLoading(false);
			return;
		}
		signInWithEmailAndPassword(auth, username, password)
			.then((userCredential) => {
				const user = userCredential.user;
				console.log(user);
				localStorage.setItem("user", JSON.stringify(user));
				router.push("/getting-started");
			})
			.catch((error) => {
				const errorCode = error.code;
				const errorMessage = error.message;
				console.log(errorCode, errorMessage);
				setError(errorMessage);
			});
		setLoading(false);
	};

	const handleSubmit = (e) => {
		e.preventDefault();
	};

	const handleClick = async () => {
		setLoading(true);
		try {
			/*This function is for user authentication with firebase.It takes auth and provider as props from firebase.js file
		  and then the popup windoew opens up.Once sign in is done the response is console logged and user data is stored
		  in localstorage*/
			const res = await signInWithPopup(auth, provider);
			console.log(res.user);
			localStorage.setItem("user", JSON.stringify(res.user));
			router.push("/getting-started");
		} catch (err) {
			console.error(err);
			setLoading(false);
		}
		setLoading(false);
	};

	return (
		<>
			<div className=" absolute md:hidden w-screen h-[28vh] rounded-b-xl inset-0 bg-[url('/CARD3.png')] bg-cover bg-no-  z-0 "></div>
			{/* <PiggyBank
				size={32}
				color="#26a269"
				weight="bold"
				className="absolute left-10 rotate-12 top-10 md:hidden"
			/>
			<Bank
				size={32}
				color="#26a269"
				weight="bold"
				className=" absolute left-6 rotate-12 top-32"
			/>
			<HandCoins
				size={32}
				color="#26a269"
				weight="bold"
				className=" absolute right-6 rotate-12 top-32"
			/>
			<Wallet
				size={32}
				color="#26a269"
				weight="bold"
				className=" absolute right-6 rotate-12 top-12"
			/>
			<CurrencyInr
				size={32}
				color="#26a269"
				weight="bold"
				className=" absolute left-[38vw] rotate-12 top-20"
			/>
			<Coins
				size={32}
				color="#26a269"
				weight="bold"
				className=" absolute left-[60vw] rotate-12 top-8"
			/>

			<CurrencyCircleDollar
				size={32}
				color="#26a269"
				weight="bold"
				className=" absolute left-6 rotate-12 top-32"
			/> */}
			<div className="  bg-transparent  md:bg-brand-backgroud space-y-10 md:rounded-2xl  md:drop-shadow-lg md:flex flex-row justify-center items-center gap-10 mx-auto  md:border border-brand-border z-10 -mt-[10vh]">
				<div className=" flex flex-col mx-auto justify-center items-center md:items-start gap-8 bg-transparent  w-screen md:w-full md:bg-brand-backgroudTertiary md:p-20 rounded-2xl">
					<Typography
						variant="h1"
						className=" font-extrabold text-7xl md:text-5xl text-brand-border"
					>
						<span className="italic">Ez</span>Pay
					</Typography>
					<Typography
						variant="h6"
						className=" font-normal md:hidden text-brand-border "
						textGradient
					>
						Your One Stop Payment Solution
					</Typography>

					<svg
						className="w-64 hidden md:block"
						viewBox="0 0 348 279"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
						<g clipPath="url(#clip0_124_230)">
							<path
								d="M100.197 217.086C95.6386 218.655 91.6481 221.541 88.73 225.379C85.812 229.216 84.0974 233.833 83.8031 238.645C83.5087 243.456 84.6479 248.248 87.0766 252.412C89.5053 256.577 93.1143 259.927 97.4473 262.041C101.78 264.154 106.643 264.935 111.42 264.285C116.196 263.635 120.673 261.583 124.284 258.388C127.895 255.194 130.477 251.001 131.704 246.339C132.932 241.676 132.749 236.755 131.18 232.197C129.069 226.089 124.622 221.067 118.813 218.234C113.005 215.401 106.31 214.988 100.197 217.086ZM114.847 259.634C110.99 260.962 106.826 261.116 102.881 260.078C98.9366 259.039 95.3884 256.854 92.6854 253.799C89.9824 250.744 88.2461 246.956 87.696 242.914C87.1459 238.872 87.8067 234.758 89.595 231.091C91.3832 227.425 94.2185 224.371 97.7423 222.316C101.266 220.261 105.32 219.297 109.392 219.546C113.463 219.795 117.37 221.246 120.617 223.715C123.864 226.184 126.306 229.561 127.634 233.418C129.408 238.59 129.059 244.255 126.662 249.17C124.264 254.085 120.016 257.848 114.847 259.634ZM118.523 241.513C119.09 243.158 118.979 244.962 118.216 246.526C117.453 248.09 116.1 249.287 114.455 249.854L113.568 250.159L114.179 251.932C114.34 252.402 114.309 252.918 114.091 253.364C113.873 253.811 113.486 254.153 113.016 254.315C112.546 254.477 112.031 254.446 111.584 254.228C111.137 254.01 110.795 253.623 110.633 253.153L110.022 251.38L106.477 252.601C106.006 252.763 105.491 252.731 105.044 252.513C104.597 252.295 104.255 251.909 104.093 251.439C103.932 250.968 103.963 250.453 104.181 250.006C104.399 249.559 104.786 249.217 105.256 249.055L113.234 246.308C113.939 246.065 114.519 245.552 114.846 244.882C115.173 244.212 115.22 243.439 114.977 242.733C114.734 242.028 114.221 241.448 113.551 241.121C112.88 240.794 112.108 240.747 111.402 240.99L106.084 242.821C104.438 243.388 102.635 243.277 101.07 242.514C99.5061 241.751 98.3089 240.398 97.7423 238.753C97.1756 237.107 97.2859 235.304 98.0489 233.739C98.8119 232.175 100.165 230.978 101.811 230.411L102.697 230.106L102.087 228.333C101.925 227.863 101.956 227.348 102.174 226.901C102.392 226.454 102.779 226.112 103.249 225.95C103.719 225.788 104.235 225.819 104.681 226.037C105.128 226.255 105.47 226.642 105.632 227.112L106.243 228.885L109.788 227.664C110.259 227.502 110.774 227.534 111.221 227.752C111.668 227.97 112.01 228.356 112.172 228.827C112.334 229.297 112.302 229.812 112.084 230.259C111.866 230.706 111.48 231.048 111.009 231.21L103.032 233.957C102.326 234.2 101.746 234.713 101.419 235.383C101.092 236.054 101.045 236.827 101.288 237.532C101.531 238.237 102.044 238.817 102.714 239.144C103.385 239.471 104.158 239.518 104.863 239.275L110.181 237.444C111.827 236.877 113.63 236.988 115.195 237.751C116.759 238.514 117.956 239.867 118.523 241.513Z"
								fill="#26A269"
							/>
						</g>
						<g clipPath="url(#clip1_124_230)">
							<path
								d="M315.957 144.158L315.405 142.975C312.921 137.647 303.011 137.375 292.354 142.345C281.697 147.314 275.535 155.08 278.02 160.408L281.982 168.904C284.051 173.342 291.271 174.268 299.782 171.584L300.331 172.761C302.815 178.088 312.725 178.36 323.382 173.391C334.038 168.421 340.2 160.655 337.716 155.328L333.754 146.831C331.704 142.434 324.658 141.422 315.957 144.158ZM330.355 148.416C331.665 151.224 326.588 157.414 317.835 161.495C317.042 161.865 316.244 162.204 315.445 162.514C319.248 158.708 320.853 154.657 319.367 151.471L317.558 147.593C324.344 145.579 329.391 146.349 330.355 148.416ZM298.176 168.141L295.82 163.088C297.613 162.52 299.367 161.835 301.07 161.037C302.776 160.245 304.428 159.342 306.016 158.333L308.372 163.386C306.801 164.423 305.155 165.342 303.448 166.135C301.742 166.933 299.981 167.603 298.176 168.141ZM314.575 150.067L315.968 153.056C316.799 154.838 315.056 157.981 311.436 161.084L309.121 156.12C311.554 154.176 313.414 152.103 314.575 150.067ZM293.939 145.743C302.692 141.662 310.697 141.751 312.006 144.559C313.316 147.368 308.239 153.557 299.486 157.639C290.732 161.721 282.728 161.631 281.418 158.823C280.109 156.015 285.185 149.825 293.939 145.743ZM285.38 167.319L283.987 164.331C286.293 164.75 289.076 164.657 292.128 164.044L294.443 169.008C289.74 169.786 286.211 169.102 285.38 167.319ZM303.729 171.176L303.316 170.29C303.885 170.051 304.457 169.802 305.033 169.534C305.857 169.15 306.649 168.747 307.417 168.332C308.442 168.236 309.46 168.086 310.468 167.881L312.792 172.864C308.089 173.643 304.56 172.958 303.729 171.176ZM316.525 171.998L314.163 166.931C315.959 166.371 317.715 165.69 319.42 164.894C321.125 164.102 322.777 163.198 324.365 162.19L326.721 167.243C323.572 169.315 320.137 170.917 316.525 171.998ZM329.785 164.94L327.47 159.976C329.903 158.033 331.763 155.96 332.924 153.924L334.317 156.913C335.148 158.695 333.405 161.838 329.785 164.94Z"
								fill="#26A269"
							/>
						</g>
						<g clipPath="url(#clip2_124_230)">
							<path
								d="M52.3356 148.366L11.5518 167.383C10.6504 167.804 9.95292 168.565 9.61276 169.5C9.2726 170.434 9.31764 171.466 9.73796 172.367L22.4165 199.556C22.8368 200.458 23.598 201.155 24.5326 201.495C25.4672 201.835 26.4986 201.79 27.4 201.37L68.1838 182.352C69.0852 181.932 69.7827 181.171 70.1229 180.236C70.463 179.301 70.418 178.27 69.9977 177.369L57.3191 150.179C56.8988 149.278 56.1376 148.581 55.203 148.24C54.2685 147.9 53.237 147.945 52.3356 148.366ZM53.9205 151.764L56.2977 156.862L15.5138 175.88L13.1366 170.782L53.9205 151.764ZM66.599 178.953L25.8152 197.971L17.0987 179.279L57.8825 160.261L66.599 178.953ZM60.8231 175.44C61.0333 175.891 61.0558 176.407 60.8857 176.874C60.7156 177.341 60.3669 177.722 59.9162 177.932L53.1189 181.102C52.6682 181.312 52.1525 181.334 51.6852 181.164C51.2179 180.994 50.8373 180.645 50.6272 180.195C50.417 179.744 50.3945 179.228 50.5646 178.761C50.7346 178.294 51.0834 177.913 51.5341 177.703L58.3314 174.533C58.7821 174.323 59.2978 174.301 59.7651 174.471C60.2324 174.641 60.613 174.99 60.8231 175.44ZM47.2285 181.78C47.4387 182.23 47.4612 182.746 47.2911 183.213C47.121 183.681 46.7723 184.061 46.3216 184.271L42.9229 185.856C42.4722 186.066 41.9565 186.089 41.4892 185.919C41.022 185.749 40.6414 185.4 40.4312 184.949C40.221 184.499 40.1985 183.983 40.3686 183.516C40.5387 183.048 40.8874 182.668 41.3381 182.458L44.7368 180.873C45.1875 180.663 45.7032 180.64 46.1705 180.81C46.6378 180.98 47.0184 181.329 47.2285 181.78Z"
								fill="#26A269"
							/>
						</g>
						<g clipPath="url(#clip3_124_230)">
							<path
								d="M196.274 151.16C195.854 150.386 195.263 149.718 194.544 149.21C193.825 148.702 192.999 148.366 192.129 148.229L182.254 146.3C182.854 145.513 183.268 144.6 183.466 143.629C183.663 142.658 183.638 141.656 183.392 140.696C183.147 139.737 182.688 138.845 182.049 138.088C181.41 137.332 180.608 136.729 179.703 136.327L168.985 131.554C168.085 131.151 167.115 130.931 166.13 130.905C165.145 130.879 164.165 131.048 163.246 131.403L156.245 134.092L150.103 131.357C149.194 130.953 148.162 130.926 147.233 131.282C146.305 131.639 145.556 132.349 145.152 133.258L141.338 141.822C140.934 142.731 140.907 143.763 141.263 144.692C141.62 145.62 142.33 146.369 143.239 146.774L165.507 156.688C165.647 156.75 165.794 156.795 165.945 156.821L181.173 159.497C181.27 159.515 181.368 159.524 181.466 159.524L191.365 159.688L191.479 159.687C192.457 159.644 193.407 159.352 194.241 158.84C195.075 158.327 195.765 157.611 196.245 156.758C196.726 155.905 196.981 154.944 196.988 153.966C196.994 152.987 196.751 152.023 196.282 151.164L196.274 151.16ZM148.577 134.783L153.716 137.071L149.903 145.636L144.764 143.348L148.577 134.783ZM191.352 155.934L181.673 155.776L166.818 153.167L153.329 147.161L157.589 137.592L164.591 134.906C165.05 134.728 165.54 134.643 166.032 134.655C166.525 134.668 167.01 134.778 167.459 134.98L178.178 139.752C178.859 140.056 179.392 140.617 179.66 141.314C179.927 142.01 179.907 142.784 179.603 143.466C179.3 144.147 178.738 144.68 178.042 144.947C177.345 145.215 176.571 145.194 175.89 144.891L169.895 142.222C169.44 142.02 168.924 142.006 168.46 142.184C167.996 142.363 167.621 142.718 167.419 143.172C167.217 143.626 167.203 144.142 167.382 144.607C167.56 145.071 167.915 145.445 168.369 145.648L175.221 148.698C175.35 148.755 175.485 148.798 175.623 148.826L191.438 151.914L191.512 151.926C192.004 151.999 192.452 152.252 192.768 152.636C193.085 153.019 193.249 153.506 193.228 154.003C193.208 154.501 193.004 154.972 192.656 155.328C192.309 155.684 191.842 155.899 191.345 155.931L191.352 155.934ZM186.367 135.189C186.79 135.378 187.228 135.531 187.676 135.648C187.525 137.253 187.836 138.866 188.572 140.299C189.309 141.732 190.441 142.924 191.834 143.735C193.226 144.545 194.822 144.939 196.432 144.871C198.042 144.804 199.598 144.276 200.918 143.351C202.238 142.427 203.265 141.144 203.878 139.654C204.492 138.164 204.666 136.529 204.38 134.944C204.094 133.358 203.36 131.887 202.264 130.706C201.169 129.524 199.758 128.681 198.199 128.275C198.345 126.73 198.062 125.174 197.381 123.779C196.7 122.384 195.647 121.204 194.339 120.369C193.03 119.533 191.517 119.075 189.965 119.045C188.413 119.014 186.882 119.412 185.542 120.196C184.202 120.979 183.103 122.116 182.368 123.484C181.633 124.851 181.289 126.394 181.374 127.944C181.459 129.494 181.971 130.991 182.851 132.269C183.732 133.547 184.949 134.557 186.367 135.189ZM200.358 138.339C199.981 139.186 199.361 139.902 198.577 140.397C197.793 140.892 196.88 141.143 195.953 141.118C195.026 141.094 194.127 140.796 193.37 140.261C192.613 139.725 192.032 138.978 191.699 138.112C191.367 137.247 191.299 136.302 191.504 135.398C191.708 134.494 192.176 133.671 192.849 133.032C193.521 132.394 194.368 131.97 195.282 131.813C196.195 131.656 197.135 131.773 197.982 132.15C199.118 132.656 200.006 133.592 200.452 134.753C200.897 135.913 200.863 137.203 200.358 138.339ZM191.705 123.198C192.639 123.615 193.412 124.325 193.904 125.221C194.397 126.117 194.583 127.15 194.434 128.162C193.282 128.388 192.19 128.853 191.228 129.526C190.266 130.199 189.454 131.065 188.846 132.07C188.518 132.001 188.199 131.898 187.892 131.763C186.757 131.257 185.868 130.321 185.423 129.161C184.977 128 185.011 126.71 185.517 125.574C186.022 124.438 186.958 123.55 188.119 123.105C189.28 122.659 190.57 122.693 191.705 123.198Z"
								fill="#26A269"
							/>
						</g>
						<g clipPath="url(#clip4_124_230)">
							<path
								d="M248.489 243.041C248.124 243.461 247.643 243.763 247.106 243.91C246.569 244.056 246.001 244.04 245.474 243.863C244.946 243.687 244.483 243.358 244.142 242.918C243.802 242.478 243.599 241.947 243.561 241.392C243.522 240.837 243.648 240.283 243.924 239.801C244.2 239.318 244.613 238.927 245.111 238.679C245.609 238.431 246.169 238.336 246.721 238.406C247.273 238.476 247.792 238.709 248.211 239.074C248.774 239.563 249.12 240.256 249.172 241C249.224 241.744 248.978 242.478 248.489 243.041ZM249.409 227.693L242.334 221.542C241.958 221.216 241.469 221.052 240.973 221.087C240.477 221.122 240.015 221.352 239.689 221.727C239.362 222.102 239.199 222.592 239.233 223.088C239.268 223.584 239.498 224.046 239.874 224.372L246.949 230.523C247.324 230.849 247.814 231.013 248.31 230.978C248.806 230.944 249.268 230.713 249.594 230.338C249.92 229.963 250.084 229.473 250.049 228.977C250.015 228.481 249.784 228.019 249.409 227.693ZM259.009 250.945L254.089 256.605C253.11 257.731 251.724 258.422 250.236 258.526C248.748 258.63 247.279 258.139 246.153 257.16L245.736 256.797L235.891 262.331C235.217 262.711 234.442 262.872 233.672 262.793C232.902 262.715 232.176 262.4 231.592 261.893L229.342 259.937C228.758 259.429 228.346 258.754 228.161 258.003C227.976 257.252 228.028 256.462 228.31 255.741L228.797 254.494L218.662 245.684L217.495 246.34C216.821 246.719 216.046 246.881 215.276 246.802C214.506 246.723 213.78 246.409 213.196 245.901L210.946 243.945C210.362 243.438 209.95 242.762 209.765 242.011C209.58 241.26 209.632 240.47 209.914 239.75L213.096 231.598C213.062 227.365 214.336 223.225 216.743 219.743C216.078 219.586 215.382 219.614 214.732 219.823C214.081 220.033 213.5 220.416 213.052 220.932C212.725 221.307 212.263 221.537 211.767 221.572C211.271 221.607 210.782 221.443 210.406 221.117C210.031 220.79 209.801 220.328 209.766 219.832C209.731 219.336 209.895 218.847 210.222 218.471C211.321 217.211 212.809 216.355 214.451 216.038C216.093 215.721 217.794 215.961 219.283 216.721C222.989 213.096 227.923 210.998 233.105 210.842C238.287 210.687 243.337 212.486 247.254 215.882L265.65 231.873C266.026 232.2 266.256 232.662 266.291 233.158C266.325 233.654 266.161 234.143 265.835 234.518C265.509 234.894 265.047 235.124 264.551 235.159C264.055 235.194 263.565 235.03 263.19 234.703L259.406 231.414C260.323 235.104 260.2 238.974 259.054 242.598C258.976 242.841 258.897 243.083 258.814 243.321C259.798 244.335 260.364 245.682 260.401 247.095C260.437 248.507 259.94 249.882 259.009 250.945ZM256.179 248.484C256.506 248.109 256.669 247.62 256.635 247.123C256.6 246.627 256.37 246.165 255.994 245.839L255.347 245.276C255.045 245.015 254.835 244.664 254.747 244.274C254.659 243.885 254.697 243.477 254.857 243.111C256.295 239.819 256.643 236.154 255.852 232.649C255.06 229.145 253.169 225.986 250.454 223.632L244.794 218.712C242.322 216.563 239.279 215.18 236.035 214.731C232.791 214.283 229.487 214.787 226.525 216.184C223.563 217.581 221.071 219.809 219.354 222.598C217.636 225.386 216.767 228.614 216.853 231.888C216.86 232.138 216.817 232.387 216.726 232.62L213.406 241.115L215.656 243.071L217.976 241.768C218.313 241.578 218.7 241.497 219.085 241.537C219.469 241.576 219.832 241.733 220.124 241.986L232.255 252.531C232.547 252.785 232.753 253.123 232.845 253.498C232.937 253.874 232.911 254.268 232.771 254.628L231.802 257.107L234.052 259.063L245.05 252.881C245.387 252.691 245.774 252.611 246.159 252.65C246.544 252.689 246.907 252.846 247.199 253.1L248.614 254.33C248.989 254.656 249.478 254.82 249.975 254.785C250.471 254.75 250.933 254.52 251.259 254.145L256.179 248.484Z"
								fill="#26A269"
							/>
						</g>
						<g clipPath="url(#clip5_124_230)">
							<path
								d="M62.9565 64.1578L62.4048 62.9746C59.9206 57.6472 50.0109 57.3754 39.354 62.3448C28.6971 67.3142 22.5354 75.0802 25.0196 80.4076L28.9817 88.9043C31.0509 93.3416 38.271 94.2676 46.782 91.5842L47.3307 92.7609C49.8149 98.0883 59.7247 98.3601 70.3816 93.3907C81.0385 88.4213 87.2001 80.6553 84.7159 75.3279L80.7539 66.8313C78.7035 62.4343 71.6577 61.4218 62.9565 64.1578ZM77.3552 68.4161C78.6647 71.2243 73.5884 77.4136 64.8347 81.4954C64.0424 81.8649 63.2436 82.2038 62.4445 82.5143C66.2478 78.7082 67.8526 74.6575 66.3669 71.4712L64.5582 67.5925C71.3438 65.5791 76.3915 66.3493 77.3552 68.4161ZM45.1764 88.1409L42.82 83.0875C44.613 82.5195 46.367 81.8347 48.0705 81.0374C49.7762 80.2449 51.4283 79.3415 53.0159 78.3331L55.3723 83.3864C53.8008 84.4228 52.1547 85.3417 50.4477 86.1354C48.7424 86.9329 46.9805 87.6032 45.1764 88.1409ZM61.5746 70.0674L62.9682 73.0561C63.7993 74.8382 62.0556 77.9813 58.4362 81.0837L56.1214 76.1195C58.5536 74.1759 60.4138 72.1034 61.5746 70.0674ZM40.9388 65.7435C49.6925 61.6616 57.6967 61.7513 59.0062 64.5594C60.3156 67.3676 55.2393 73.5569 46.4857 77.6388C37.732 81.7207 29.7277 81.6309 28.4183 78.8228C27.1088 76.0147 32.1851 69.8254 40.9388 65.7435ZM32.3803 87.3194L30.9867 84.3307C33.2925 84.7502 36.0758 84.6575 39.1281 84.0436L41.4429 89.0077C36.7399 89.7862 33.2114 89.1016 32.3803 87.3194ZM50.7294 91.1761L50.3164 90.2903C50.8849 90.0511 51.4569 89.8025 52.0325 89.534C52.8567 89.1497 53.6489 88.7467 54.4173 88.3315C55.4416 88.2364 56.4601 88.0861 57.4683 87.8812L59.792 92.8644C55.089 93.6429 51.5604 92.9583 50.7294 91.1761ZM63.5255 91.9976L61.1631 86.9315C62.9588 86.3706 64.7149 85.69 66.4195 84.8941C68.1253 84.1016 69.7773 83.1982 71.365 82.1898L73.7214 87.2431C70.5719 89.3151 67.1372 90.9168 63.5255 91.9976ZM76.7853 84.9403L74.4705 79.9762C76.9027 78.0326 78.7628 75.9601 79.9236 73.9241L81.3173 76.9128C82.1483 78.6949 80.4047 81.838 76.7853 84.9403Z"
								fill="#26A269"
							/>
						</g>
						<g clipPath="url(#clip6_124_230)">
							<path
								d="M262.197 33.0856C257.639 34.6551 253.648 37.5411 250.73 41.3786C247.812 45.216 246.097 49.8326 245.803 54.6445C245.509 59.4565 246.648 64.2476 249.077 68.4121C251.505 72.5766 255.114 75.9273 259.447 78.0407C263.78 80.1541 268.643 80.9351 273.42 80.2849C278.196 79.6348 282.673 77.5828 286.284 74.3884C289.895 71.194 292.477 67.0006 293.704 62.3385C294.932 57.6765 294.749 52.7551 293.18 48.1969C291.069 42.0886 286.622 37.0671 280.813 34.2341C275.005 31.4011 268.31 30.988 262.197 33.0856ZM276.847 75.6339C272.99 76.962 268.826 77.1165 264.881 76.0779C260.937 75.0393 257.388 72.8543 254.685 69.7991C251.982 66.744 250.246 62.9559 249.696 58.9139C249.146 54.8719 249.807 50.7576 251.595 47.0912C253.383 43.4248 256.218 40.371 259.742 38.316C263.266 36.261 267.32 35.297 271.392 35.5461C275.463 35.7951 279.37 37.2459 282.617 39.7151C285.864 42.1842 288.306 45.5608 289.634 49.4178C291.408 54.59 291.059 60.255 288.662 65.1698C286.264 70.0845 282.016 73.8478 276.847 75.6339ZM280.523 57.5125C281.09 59.1582 280.979 60.9615 280.216 62.5259C279.453 64.0902 278.1 65.2874 276.454 65.854L275.568 66.1592L276.179 67.9321C276.34 68.4023 276.309 68.9175 276.091 69.3645C275.873 69.8114 275.486 70.1535 275.016 70.3154C274.546 70.4773 274.031 70.4458 273.584 70.2278C273.137 70.0098 272.795 69.6232 272.633 69.153L272.022 67.3801L268.477 68.601C268.006 68.7629 267.491 68.7314 267.044 68.5134C266.597 68.2954 266.255 67.9088 266.093 67.4386C265.932 66.9684 265.963 66.4532 266.181 66.0062C266.399 65.5593 266.786 65.2172 267.256 65.0553L275.234 62.3083C275.939 62.0655 276.519 61.5524 276.846 60.882C277.173 60.2115 277.22 59.4387 276.977 58.7334C276.734 58.0281 276.221 57.4482 275.551 57.1212C274.88 56.7942 274.108 56.7469 273.402 56.9898L268.084 58.8211C266.438 59.3877 264.635 59.2775 263.07 58.5145C261.506 57.7515 260.309 56.3983 259.742 54.7527C259.176 53.107 259.286 51.3037 260.049 49.7393C260.812 48.175 262.165 46.9778 263.811 46.4112L264.697 46.106L264.087 44.3331C263.925 43.8629 263.956 43.3477 264.174 42.9007C264.392 42.4538 264.779 42.1117 265.249 41.9498C265.719 41.7879 266.235 41.8194 266.681 42.0374C267.128 42.2554 267.47 42.642 267.632 43.1122L268.243 44.8851L271.788 43.6642C272.259 43.5023 272.774 43.5338 273.221 43.7518C273.668 43.9698 274.01 44.3564 274.172 44.8266C274.334 45.2968 274.302 45.812 274.084 46.259C273.866 46.7059 273.48 47.048 273.009 47.2099L265.032 49.9569C264.326 50.1997 263.746 50.7128 263.419 51.3832C263.092 52.0536 263.045 52.8265 263.288 53.5318C263.531 54.2371 264.044 54.817 264.714 55.144C265.385 55.471 266.158 55.5183 266.863 55.2754L272.181 53.4441C273.827 52.8774 275.63 52.9877 277.195 53.7507C278.759 54.5137 279.956 55.8669 280.523 57.5125Z"
								fill="#26A269"
							/>
						</g>
						<g clipPath="url(#clip7_124_230)">
							<path
								d="M133.318 46.2246C133.128 45.7019 133.097 45.1345 133.229 44.5942C133.361 44.0538 133.651 43.5649 134.061 43.1891C134.471 42.8132 134.983 42.5675 135.533 42.4829C136.083 42.3983 136.645 42.4786 137.149 42.7137C137.654 42.9487 138.077 43.328 138.365 43.8036C138.654 44.2791 138.795 44.8296 138.771 45.3853C138.746 45.9411 138.558 46.4771 138.229 46.9257C137.9 47.3743 137.445 47.7153 136.923 47.9055C136.222 48.1607 135.448 48.1269 134.772 47.8116C134.096 47.4964 133.573 46.9255 133.318 46.2246ZM146.296 54.4706L155.106 51.2642C155.573 51.0941 155.953 50.7454 156.164 50.2947C156.374 49.844 156.396 49.3283 156.226 48.861C156.056 48.3937 155.707 48.0131 155.257 47.803C154.806 47.5928 154.29 47.5703 153.823 47.7404L145.013 50.9468C144.546 51.1169 144.165 51.4656 143.955 51.9163C143.745 52.367 143.723 52.8827 143.893 53.35C144.063 53.8173 144.412 54.1979 144.862 54.408C145.313 54.6182 145.829 54.6407 146.296 54.4706ZM121.305 51.5946L118.74 44.5469C118.23 43.145 118.297 41.5978 118.928 40.2458C119.558 38.8937 120.7 37.8475 122.102 37.3372L122.622 37.148L122.554 25.8541C122.549 25.0806 122.784 24.3245 123.226 23.6895C123.667 23.0545 124.295 22.5716 125.022 22.3071L127.823 21.2875C128.55 21.0228 129.341 20.9895 130.088 21.1919C130.834 21.3944 131.5 21.8228 131.994 22.4184L132.848 23.4494L145.467 18.8562L145.459 17.5174C145.454 16.7438 145.689 15.9877 146.131 15.3527C146.572 14.7177 147.2 14.2349 147.927 13.9704L150.728 12.9508C151.455 12.6861 152.246 12.6527 152.993 12.8552C153.739 13.0577 154.405 13.4861 154.899 14.0817L160.485 20.8177C164.204 22.8399 167.208 25.9609 169.086 29.7543C169.546 29.2487 169.858 28.627 169.991 27.9564C170.123 27.2858 170.069 26.5919 169.836 25.9495C169.666 25.4822 169.688 24.9665 169.898 24.5158C170.109 24.0651 170.489 23.7164 170.956 23.5463C171.424 23.3762 171.939 23.3987 172.39 23.6089C172.841 23.8191 173.19 24.1996 173.36 24.6669C173.929 26.2392 173.956 27.9566 173.438 29.5462C172.919 31.1359 171.884 32.5066 170.497 33.4407C171.871 38.4395 171.314 43.7722 168.938 48.3797C166.562 52.9872 162.54 56.5326 157.671 58.3119L134.766 66.6486C134.298 66.8187 133.783 66.7962 133.332 66.586C132.881 66.3759 132.533 65.9953 132.362 65.528C132.192 65.0607 132.215 64.545 132.425 64.0943C132.635 63.6436 133.016 63.2949 133.483 63.1248L138.194 61.4101C134.523 60.4229 131.197 58.4396 128.583 55.6797C128.409 55.4939 128.236 55.3074 128.068 55.1192C126.704 55.4884 125.251 55.3308 123.998 54.6778C122.745 54.0247 121.784 52.924 121.305 51.5946ZM124.829 50.312C124.999 50.7793 125.348 51.1599 125.798 51.37C126.249 51.5802 126.765 51.6027 127.232 51.4326L128.038 51.1392C128.413 51.0022 128.822 50.9886 129.206 51.1003C129.589 51.212 129.927 51.4431 130.17 51.7601C132.352 54.6141 135.389 56.6961 138.837 57.7023C142.286 58.7084 145.966 58.5861 149.34 57.3532L156.388 54.7881C159.466 53.6681 162.151 51.677 164.116 49.0573C166.081 46.4377 167.242 43.3028 167.456 40.0349C167.671 36.7671 166.929 33.5075 165.323 30.6536C163.717 27.7997 161.315 25.4748 158.41 23.9625C158.188 23.8475 157.992 23.6892 157.832 23.4971L152.011 16.4746L149.209 17.4943L149.225 20.1548C149.227 20.5414 149.11 20.9193 148.889 21.2367C148.669 21.5541 148.355 21.7955 147.992 21.9279L132.888 27.4254C132.525 27.5574 132.13 27.5739 131.756 27.4726C131.383 27.3713 131.051 27.1572 130.804 26.8595L129.106 24.8113L126.304 25.831L126.379 38.4467C126.382 38.8333 126.264 39.2111 126.044 39.5285C125.823 39.8459 125.51 40.0874 125.146 40.2198L123.384 40.8611C122.917 41.0312 122.537 41.3799 122.326 41.8306C122.116 42.2813 122.094 42.797 122.264 43.2643L124.829 50.312Z"
								fill="#26A269"
							/>
						</g>
						<defs>
							<clipPath id="clip0_124_230">
								<rect
									width="100%"
									height="100%"
									fill="white"
									transform="translate(70 221.534) rotate(-19)"
								/>
							</clipPath>
							<clipPath id="clip1_124_230">
								<rect
									width="100%"
									height="100%"
									fill="white"
									transform="translate(268 143.357) rotate(-25)"
								/>
							</clipPath>
							<clipPath id="clip2_124_230">
								<rect
									width="100%"
									height="100%"
									fill="white"
									transform="translate(0 160.357) rotate(-25)"
								/>
							</clipPath>
							<clipPath id="clip3_124_230">
								<rect
									width="100%"
									height="100%"
									fill="white"
									transform="translate(160.404 99) rotate(24)"
								/>
							</clipPath>
							<clipPath id="clip4_124_230">
								<rect
									width="100%"
									height="100%"
									fill="white"
									transform="translate(232.364 193) rotate(41)"
								/>
							</clipPath>
							<clipPath id="clip5_124_230">
								<rect
									width="100%"
									height="100%"
									fill="white"
									transform="translate(15 63.3571) rotate(-25)"
								/>
							</clipPath>
							<clipPath id="clip6_124_230">
								<rect
									width="100%"
									height="100%"
									fill="white"
									transform="translate(232 37.5341) rotate(-19)"
								/>
							</clipPath>
							<clipPath id="clip7_124_230">
								<rect
									width="100%"
									height="100%"
									fill="white"
									transform="translate(184.903 56.3816) rotate(160)"
								/>
							</clipPath>
						</defs>
					</svg>
				</div>

				<form
					className=" space-y-2  p-10 rounded-2xl h-full w-full"
					onSubmit={handleSubmit}
				>
					<Input
						size="lg"
						label="Enter Email"
						variant="outlined"
						type="email"
						value={username}
						onChange={handleUsernameChange}
					/>
					{usernameError && (
						<span className="text-red-500"> {usernameError} </span>
					)}
					<br />

					<Input
						size="lg"
						label="Enter Password"
						value={password}
						type="password"
						variant="outlined"
						onChange={handlePasswordChange}
					/>
					{passwordError && (
						<span className="text-red-500"> {passwordError} </span>
					)}
					<br />
					<span className=" flex flex-row gap-5 justify-around py-5 md:py-0 md:block">
						<span className="flex flex-col md:flex-row  gap-4 md:py-3 w-full">
							{loading ? (
								<Button
									size="lg"
									className="w-full md:w-fit  bg-brand-accent"
									disabled
								>
									<svg
										aria-hidden="true"
										role="status"
										className="mr-3 inline h-4 w-4 animate-spin rounded-full bg-slate-800 text-white "
										viewBox="0 0 100 101"
										fill="none"
										xmlns="http://www.w3.org/2000/svg"
									>
										<path
											d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"
											fill="#E5E7EB"
										/>
										<path
											d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"
											fill="currentColor"
										/>
									</svg>
									Loading...
								</Button>
							) : (
								<Button
									type="submit"
									size="lg"
									className="w-full  md:w-1/2  bg-brand-accent"
									onClick={SignUp}
								>
									Sign Up
								</Button>
							)}
							{loading ? (
								<Button
									size="lg"
									variant="outlined"
									color="blue-gray"
									className="hidden md:flex w-full  items-center gap-3 p-3"
									onClick={handleClick}
								>
									<svg
										aria-hidden="true"
										role="status"
										className="mr-3 inline h-4 w-4 animate-spin rounded-full bg-slate-800 text-black "
										viewBox="0 0 100 101"
										fill="none"
										xmlns="http://www.w3.org/2000/svg"
									>
										<path
											d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"
											fill="#E5E7EB"
										/>
										<path
											d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"
											fill="currentColor"
										/>
									</svg>
									Loading...
								</Button>
							) : (
								<Button
									size="lg"
									variant="outlined"
									color="blue-gray"
									className="hidden md:flex w-full items-center gap-3 p-3"
									onClick={handleClick}
								>
									<img
										src="https://docs.material-tailwind.com/icons/google.svg"
										alt="metamask"
										className="h-6 w-6"
									/>
									Continue with Google
								</Button>
							)}
						</span>

						{loading ? (
							<Button
								size="lg"
								className="w-full bg-brand-backgroudTertiary bg-opacity-85"
								disabled
							>
								<svg
									aria-hidden="true"
									role="status"
									className="mr-3 inline h-4 w-4 animate-spin rounded-full bg-slate-800 text-white "
									viewBox="0 0 100 101"
									fill="none"
									xmlns="http://www.w3.org/2000/svg"
								>
									<path
										d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"
										fill="#E5E7EB"
									/>
									<path
										d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"
										fill="currentColor"
									/>
								</svg>
								Loading...
							</Button>
						) : (
							<Button
								type="submit"
								size="lg"
								className="w-full bg-brand-backgroudTertiary bg-opacity-85"
								onClick={Login}
							>
								Login
							</Button>
						)}
					</span>
					<div className="relative md:hidden">
						<div className="absolute inset-0 flex items-center">
							<div className="w-full   border-t border-brand-backgroudTertiary border-strong"></div>
						</div>
						<div className="relative flex justify-center text-sm z-10 my-5">
							<span className="px-2 text-md font-semibold bg-studio bg-[#fafafa]">
								or
							</span>
						</div>
					</div>
					{loading ? (
						<Button
							variant="outlined"
							className="md:hidden flex  w-full  items-center gap-3 p-3"
							onClick={handleClick}
						>
							<svg
								aria-hidden="true"
								role="status"
								className="mr-3 inline h-4 w-4 animate-spin rounded-full bg-slate-800 text-black "
								viewBox="0 0 100 101"
								fill="none"
								xmlns="http://www.w3.org/2000/svg"
							>
								<path
									d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"
									fill="#E5E7EB"
								/>
								<path
									d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"
									fill="currentColor"
								/>
							</svg>
							Loading...
						</Button>
					) : (
						<Button
							className="md:hidden w-full flex justify-center items-center mx-auto gap-3 p-3"
							onClick={handleClick}
						>
							<img
								src="https://docs.material-tailwind.com/icons/google.svg"
								alt="metamask"
								className="h-6 w-6"
							/>
							Continue with Google
						</Button>
					)}
					{error && (
						<Typography variant="h6" color="red" textGradient>
							{error}
						</Typography>
					)}
				</form>
			</div>
		</>
	);
}

export default Login;
